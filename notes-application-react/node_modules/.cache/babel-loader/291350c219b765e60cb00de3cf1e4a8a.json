{"ast":null,"code":"import _classCallCheck from \"/Users/naresh/Documents/Projects/notes-application/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/naresh/Documents/Projects/notes-application/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from 'axios';\n\nvar Api =\n/*#__PURE__*/\nfunction () {\n  function Api() {\n    _classCallCheck(this, Api);\n  }\n\n  _createClass(Api, null, [{\n    key: \"headers\",\n    value: function headers() {\n      return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'dataType': 'json'\n      };\n    }\n  }, {\n    key: \"get\",\n    value: function get(route, params) {\n      return this.xhr(route, params, 'GET');\n    }\n  }, {\n    key: \"put\",\n    value: function put(route, params) {\n      return this.xhr(route, params, 'PUT');\n    }\n  }, {\n    key: \"post\",\n    value: function post(route, params) {\n      return this.xhr(route, params, 'POST');\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(route, params) {\n      return this.xhr(route, params, 'DELETE');\n    }\n  }, {\n    key: \"patch\",\n    value: function patch(route, params) {\n      return this.xhr(route, params, 'PATCH');\n    }\n  }, {\n    key: \"xhr\",\n    value: function xhr(route, params, verb) {\n      var dataOption = {};\n\n      if (params && verb === 'GET') {\n        dataOption['params'] = params;\n      } else {\n        dataOption['data'] = params;\n      }\n\n      var options = Object.assign({\n        method: verb,\n        url: route\n      }, dataOption); //options.headers = Api.headers();\n\n      return axios(options).catch(function (error) {\n        if (error.response) {\n          throw new Error(error.response.data.message);\n        } else if (error.request) {\n          throw new Error(\"Unable to connect to the Internet.\");\n        } else {\n          throw new Error(error.message);\n        }\n      }).then(function (response) {\n        // if(response.headers.authorization) {\n        // }\n        return response;\n      }).then(handleErrors).then(function (responseJson) {\n        alert('hello');\n        return responseJson.data;\n      });\n    }\n  }]);\n\n  return Api;\n}();\n\nfunction handleErrors(response) {\n  if (response.status) {\n    switch (response.status) {\n      case 401:\n        throw new Error(response.message);\n        break;\n\n      case 403:\n        throw new Error(response.message);\n        break;\n\n      case 400:\n        throw new Error(response.message);\n        break;\n    }\n  }\n\n  return response;\n} //Lib Functions\n\n\nfunction userLoggedIn() {\n  return false;\n}\n\nfunction getUserAccessToken() {\n  return \"aaaa\";\n}\n\nexport default Api;","map":{"version":3,"sources":["/Users/naresh/Documents/Projects/notes-application/src/Config/Api.js"],"names":["axios","Api","route","params","xhr","verb","dataOption","options","Object","assign","method","url","catch","error","response","Error","data","message","request","then","handleErrors","responseJson","alert","status","userLoggedIn","getUserAccessToken"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAGMC,G;;;;;;;;;8BACa;AACf,aAAO;AACL,kBAAU,kBADL;AAEL,wBAAgB,kBAFX;AAGL,oBAAY;AAHP,OAAP;AAKD;;;wBAEUC,K,EAAOC,M,EAAQ;AACxB,aAAO,KAAKC,GAAL,CAASF,KAAT,EAAgBC,MAAhB,EAAwB,KAAxB,CAAP;AACD;;;wBAEUD,K,EAAOC,M,EAAQ;AACxB,aAAO,KAAKC,GAAL,CAASF,KAAT,EAAgBC,MAAhB,EAAwB,KAAxB,CAAP;AACD;;;yBAEWD,K,EAAOC,M,EAAQ;AACzB,aAAO,KAAKC,GAAL,CAASF,KAAT,EAAgBC,MAAhB,EAAwB,MAAxB,CAAP;AACD;;;4BAEaD,K,EAAOC,M,EAAQ;AAC3B,aAAO,KAAKC,GAAL,CAASF,KAAT,EAAgBC,MAAhB,EAAwB,QAAxB,CAAP;AACD;;;0BAEYD,K,EAAOC,M,EAAQ;AAC1B,aAAO,KAAKC,GAAL,CAASF,KAAT,EAAgBC,MAAhB,EAAwB,OAAxB,CAAP;AACD;;;wBAEUD,K,EAAOC,M,EAAQE,I,EAAM;AAC9B,UAAIC,UAAU,GAAG,EAAjB;;AACA,UAAIH,MAAM,IAAIE,IAAI,KAAK,KAAvB,EAA8B;AAC5BC,QAAAA,UAAU,CAAC,QAAD,CAAV,GAAuBH,MAAvB;AACD,OAFD,MAEO;AACLG,QAAAA,UAAU,CAAC,MAAD,CAAV,GAAqBH,MAArB;AACD;;AAED,UAAII,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;AAAEC,QAAAA,MAAM,EAAEL,IAAV;AAAgBM,QAAAA,GAAG,EAAET;AAArB,OAAd,EAA4CI,UAA5C,CAAd,CAR8B,CAS9B;;AAEA,aAAON,KAAK,CAACO,OAAD,CAAL,CACIK,KADJ,CACU,UAAUC,KAAV,EAAiB;AACtB,YAAIA,KAAK,CAACC,QAAV,EAAoB;AAElB,gBAAM,IAAIC,KAAJ,CAAUF,KAAK,CAACC,QAAN,CAAeE,IAAf,CAAoBC,OAA9B,CAAN;AACD,SAHD,MAGO,IAAIJ,KAAK,CAACK,OAAV,EAAmB;AACxB,gBAAM,IAAIH,KAAJ,CAAU,oCAAV,CAAN;AACD,SAFM,MAEA;AACL,gBAAM,IAAIA,KAAJ,CAAUF,KAAK,CAACI,OAAhB,CAAN;AACD;AACJ,OAVF,EAWEE,IAXF,CAWO,UAASL,QAAT,EAAmB;AACvB;AACA;AACA,eAAOA,QAAP;AACD,OAfF,EAgBEK,IAhBF,CAgBOC,YAhBP,EAiBED,IAjBF,CAiBO,UAACE,YAAD,EAAkB;AACtBC,QAAAA,KAAK,CAAC,OAAD,CAAL;AAEA,eAAOD,YAAY,CAACL,IAApB;AACD,OArBF,CAAP;AAsBD;;;;;;AAIH,SAASI,YAAT,CAAsBN,QAAtB,EAAgC;AAC9B,MAAIA,QAAQ,CAACS,MAAb,EAAqB;AACnB,YAAOT,QAAQ,CAACS,MAAhB;AACE,WAAK,GAAL;AACE,cAAM,IAAIR,KAAJ,CAAUD,QAAQ,CAACG,OAAnB,CAAN;AACA;;AACF,WAAK,GAAL;AACE,cAAM,IAAIF,KAAJ,CAAUD,QAAQ,CAACG,OAAnB,CAAN;AACA;;AACF,WAAK,GAAL;AACE,cAAM,IAAIF,KAAJ,CAAUD,QAAQ,CAACG,OAAnB,CAAN;AACA;AATJ;AAWD;;AACD,SAAOH,QAAP;AACD,C,CAED;;;AACA,SAASU,YAAT,GAAwB;AACtB,SAAO,KAAP;AACD;;AAED,SAASC,kBAAT,GAA8B;AAC5B,SAAO,MAAP;AACD;;AAID,eAAexB,GAAf","sourcesContent":["import axios from 'axios';\n\n\nclass Api {\n  static headers() {\n    return {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'dataType': 'json',\n    }\n  }\n\n  static get(route, params) {\n    return this.xhr(route, params, 'GET');\n  }\n\n  static put(route, params) {\n    return this.xhr(route, params, 'PUT')\n  }\n\n  static post(route, params) {\n    return this.xhr(route, params, 'POST')\n  }\n\n  static delete(route, params) {\n    return this.xhr(route, params, 'DELETE')\n  }\n\n  static patch(route, params) {\n    return this.xhr(route, params, 'PATCH')\n  }\n\n  static xhr(route, params, verb) {\n    var dataOption = {};\n    if (params && verb === 'GET') {\n      dataOption['params'] = params;\n    } else {\n      dataOption['data'] = params;\n    }\n        \n    let options = Object.assign({ method: verb, url: route }, dataOption );\n    //options.headers = Api.headers();\n\n    return axios(options)\n              .catch(function (error) {\n                if (error.response) {\n\n                  throw new Error(error.response.data.message);\n                } else if (error.request) {\n                  throw new Error(\"Unable to connect to the Internet.\");\n                } else {\n                  throw new Error(error.message);\n                }\n            })\n            .then(function(response) {\n              // if(response.headers.authorization) {\n              // }\n              return response;\n            })\n            .then(handleErrors)\n            .then((responseJson) => {\n              alert('hello');\n\n              return responseJson.data;\n            })\n  }\n\n}\n\nfunction handleErrors(response) {\n  if (response.status) {\n    switch(response.status) {\n      case 401:\n        throw new Error(response.message);\n        break;\n      case 403:\n        throw new Error(response.message);\n        break;\n      case 400:\n        throw new Error(response.message);\n        break;    \n    }\n  }\n  return response;\n}\n\n//Lib Functions\nfunction userLoggedIn() {\n  return false\n}\n\nfunction getUserAccessToken() {\n  return \"aaaa\";\n}\n\n\n\nexport default Api;\n"]},"metadata":{},"sourceType":"module"}